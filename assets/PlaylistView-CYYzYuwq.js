import{O as R,d as k,o as d,c as p,b as e,t as c,p as N,i as g,f as s,e as a,r as h,q as M,n as T,s as y,x as A,_ as O,y as Q,h as f,F as q,l as E,a as U}from"./index-CNNw0ILM.js";import{r as F,i as t}from"./request-ImmOSN77.js";class H{static getPlaylistDetail(l,o=8){return F(R,{method:"GET",url:"/playlist/detail",query:{id:l,s:o}})}}const G={class:"overflow-hidden flex justify-between py-1"},L={class:"flex items-center gap-1"},J={class:"text-base-content/50 text-lg size-8 text-center"},K={class:"relative w-60"},W={class:"truncate text-lg"},X={class:"flex items-center gap-1"},Y={key:0,class:"rounded border border-red-500/50 text-red-500 px-[2px] py-[0.5px] text-[0.5rem]"},Z={class:"text-sm text-base-content/50 truncate w-48"},ee={class:"flex items-center gap-4"},se=k({__name:"PlaylistSongItem",props:{index:{},name:{},author:{},alName:{},isSQ:{type:Boolean},isHaveVideo:{type:Boolean}},setup(I){return(l,o)=>(d(),p("div",G,[e("div",L,[e("div",J,c(l.index+1),1),e("div",K,[e("p",W,c(l.name),1),e("div",X,[l.isSQ?(d(),p("div",Y," SQ ")):N("",!0),e("span",Z,c(l.author)+" - "+c(l.alName),1)])])]),e("div",ee,[l.isHaveVideo?(d(),g(s(t.Icon),{key:0,icon:"octicon:play-24",class:"size-6 text-base-content/50"})):N("",!0),a(s(t.Icon),{icon:"pepicons-pencil:dots-y",class:"size-6 text-base-content/50"})])]))}}),te={class:"flex justify-between items-center pb-4 text-base-100/50"},ae={class:"h-full flex items-center justify-center"},oe={class:"flex flex-col gap-4"},ne={class:"flex"},le={class:"flex items-center gap-8 text-base-100/50"},ie={class:"py-4 flex items-center justify-between"},ce={class:"pb-6 flex items-center justify-around text-base-100/50"},re=5,de=k({__name:"PlayerItem",setup(I){const l=h(!1),o=h(0),r=h(),b=()=>{l.value=!l.value,l.value?n():v()},w=Math.floor(Math.random()*360),z=(m,i=100)=>`background: oklch(.65 .1 ${w} );`,x=()=>{l.value&&(o.value+=re,o.value>=360&&(r.value=0))},n=()=>{r.value||(r.value=setInterval(x,100))},v=()=>{r.value&&(clearInterval(r.value),r.value=void 0)};return M(()=>{r.value&&(clearInterval(r.value),r.value=void 0)}),(m,i)=>(d(),p("div",{class:"fixed z-20 h-screen w-full p-4 flex flex-col",style:y(z())},[e("div",te,[a(s(t.Icon),{icon:"formkit:down",class:"size-7"}),i[1]||(i[1]=e("span",{class:"text-md"},"最后一次点击的歌单名",-1)),a(s(t.Icon),{icon:"hugeicons:share-04",class:"size-7"})]),e("div",ae,[e("div",{class:T(["record size-64",{spinning:l.value}]),style:y({transform:`rotate(${o.value}deg)`})},i[2]||(i[2]=[e("img",{src:""},null,-1)]),6)]),e("div",oe,[e("div",ne,[i[3]||(i[3]=A('<div class="w-full" data-v-b5ec0c73><div class="w-full text-base-100/75" data-v-b5ec0c73>123123123123123123</div><div class="flex items-center gap-2" data-v-b5ec0c73><span class="text-md text-base-100/50" data-v-b5ec0c73>歌手名</span><span class="badge badge-sm badge-ghost bg-base-100/25 border-none text-base-100/50 text-xs" data-v-b5ec0c73> 关注 </span></div></div>',1)),e("div",le,[a(s(t.Icon),{icon:"weui:like-outlined",class:"size-7"}),a(s(t.Icon),{icon:"hugeicons:comment-01",class:"size-7"})])]),i[4]||(i[4]=e("div",{class:"w-full"},[e("progress",{class:"progress",value:"50",max:"100"}),e("div",{class:"flex items-center justify-between text-sm text-base-100/50"},[e("div",null,"00:00"),e("div",null,"11:45")])],-1)),e("div",ie,[a(s(t.Icon),{icon:"material-symbols-light:redo",class:"size-8 text-base-100/50"}),a(s(t.Icon),{icon:"ion:play-skip-back",class:"size-8 text-base-100/75"}),e("button",{class:"btn btn-ghost text-base-100/75",onClick:i[0]||(i[0]=_=>b())},[l.value?(d(),g(s(t.Icon),{key:0,icon:"ph:pause-fill",class:"size-10"})):(d(),g(s(t.Icon),{key:1,icon:"ph:play-fill",class:"size-10"}))]),a(s(t.Icon),{icon:"ion:play-skip-forward",class:"size-8 text-base-100/75"}),a(s(t.Icon),{icon:"mynaui:menu",class:"size-8 text-base-100/50"})]),e("div",ce,[a(s(t.Icon),{icon:"fluent:phone-laptop-24-regular",class:"size-6"}),a(s(t.Icon),{icon:"hugeicons:download-01",class:"size-6"}),a(s(t.Icon),{icon:"solar:menu-dots-bold",class:"size-6"})])])],4))}}),ue=O(de,[["__scopeId","data-v-b5ec0c73"]]),pe={href:"/"},xe={class:"flex items-center gap-2"},ve={class:"overflow-y-auto pt-[4.5rem] h-full"},be={class:"flex flex-col px-4"},me={class:"flex flex-col gap-2"},_e={class:"flex gap-2"},fe={class:"relative shadow-md rounded-2xl shrink-0"},he={class:"absolute right-1 top-1 badge badge-ghost bg-base-200/25 border-none text-xs text-base-100"},ge=["src"],ye={class:"flex flex-col gap-2"},Ie={class:"flex gap-2"},ze={class:"text-lg text-base-100"},ke={class:"btn btn-xs btn-circle bg-base-100/25 border-none"},we={class:"flex items-center gap-1"},$e=["src"],Pe={class:"text-base-100/75 text-sm"},De={class:"flex items-center gap-1"},je={class:"relative flex items-center"},Ce={class:"truncate text-sm text-base-100/50"},Se={class:"p-4 flex items-center justify-between text-base-100"},Ve={class:"flex items-center gap-1 px-5 py-2 bg-base-100/15 rounded-full"},Be={class:"text-sm"},Ne={class:"flex items-center gap-1 px-5 py-2 bg-base-100/15 rounded-full"},qe={class:"text-sm"},Ee={class:"flex items-center gap-1 px-5 py-2 bg-error rounded-full"},Re={class:"text-sm"},Me={class:"p-4 bg-base-100/50 flex items-center gap-4 rounded-t-2xl"},Te={class:"shrink-0 text-base-100/50 flex items-center text-xs"},Ae={class:"bg-base-100 h-full p-4"},Oe={class:"flex justify-between pb-4"},Qe={class:"flex items-center gap-2"},Ue={class:"btn btn-sm btn-circle bg-red-500"},Fe={class:"text-base-content text-lg"},He={class:"text-xs text-base-content/75"},Ge={class:"flex items-center gap-4"},Ke=k({__name:"PlaylistView",setup(I){const l=U(),o=h(),r=Math.floor(Math.random()*360),b=(x,n=100)=>{const v=x?`/ ${n}%`:"";return`background: oklch(.65 .1 ${r} ${v});`};(async()=>{const x=Number(l.query.id);await H.getPlaylistDetail(x).then(n=>{o.value=n.playlist})})();const z=Q(()=>o.value?Math.floor(o.value.playCount/1e4):0);return(x,n)=>{var v,m,i,_,$,P,D,j,C,S,V;return d(),p("div",{class:"relative h-screen",style:y(b())},[a(ue),e("div",{class:"fixed z-10 h-14 px-2 w-full flex items-center justify-between",style:y([b(!0,50),{"backdrop-filter":"blur(10px)"}])},[e("a",pe,[a(s(t.Icon),{icon:"weui:back-outlined",class:"size-8 text-base-100"})]),n[0]||(n[0]=e("span",{class:"absolute left-1/2 -translate-x-1/2 text-base-100 text-xl"},"歌单",-1)),e("div",xe,[a(s(t.Icon),{icon:"material-symbols-light:search",class:"size-8 text-base-100"}),a(s(t.Icon),{icon:"pepicons-pencil:dots-y",class:"size-8 text-base-100"})])],4),e("div",ve,[e("div",be,[e("div",me,[e("div",_e,[e("div",fe,[e("span",he,[a(s(t.Icon),{icon:"mdi:play",class:"size-4"}),f(" "+c(z.value)+" 万 ",1)]),e("img",{src:(v=o.value)==null?void 0:v.coverImgUrl,class:"size-28 rounded-lg"},null,8,ge)]),e("div",ye,[e("div",Ie,[e("h1",ze,c((m=o.value)==null?void 0:m.name),1),e("button",ke,[a(s(t.Icon),{icon:"formkit:down",class:"size-5 text-base-100"})])]),e("div",we,[e("img",{src:(i=o.value)==null?void 0:i.creator.avatarUrl,class:"size-6 rounded-full"},null,8,$e),e("span",Pe,c((_=o.value)==null?void 0:_.creator.nickname),1),n[1]||(n[1]=e("span",{class:"badge badge-sm bg-base-100/25 border-none text-base-100"}," + 关注 ",-1))]),e("div",De,[(d(!0),p(q,null,E(($=o.value)==null?void 0:$.tags,u=>(d(),p("span",{key:u,class:"badge badge-sm badge-ghost bg-base-100/25 border-none text-base-100 !rounded-sm pl-1 pr-0"},[f(c(u)+" ",1),a(s(t.Icon),{icon:"mingcute:right-line",class:"size-4"})]))),128))])])]),e("div",je,[e("span",Ce,c((P=o.value)==null?void 0:P.description),1),a(s(t.Icon),{icon:"mingcute:right-line",class:"shrink-0 text-base-100/50 size-5"})])])]),e("div",Se,[e("div",Ve,[a(s(t.Icon),{icon:"majesticons:share",class:"size-6"}),e("span",Be,c((D=o.value)==null?void 0:D.shareCount),1)]),e("div",Ne,[a(s(t.Icon),{icon:"bi:chat-dots-fill",class:"size-6"}),e("span",qe,c((j=o.value)==null?void 0:j.commentCount),1)]),e("div",Ee,[a(s(t.Icon),{icon:"fluent:collections-add-24-filled",class:"size-6"}),e("span",Re,c((C=o.value)==null?void 0:C.subscribedCount),1)])]),e("div",null,[e("div",Me,[a(s(t.Icon),{icon:"ci:gift",class:"shrink-0 size-4 text-red-500"}),n[3]||(n[3]=e("span",{class:"shrink-0 text-base-content text-sm"},"VIP 5.5 折！抢独家护肤礼包",-1)),n[4]||(n[4]=e("div",{class:"w-full"},null,-1)),e("div",Te,[n[2]||(n[2]=f(" 立即抢购 ")),a(s(t.Icon),{icon:"mingcute:right-line",class:"size-5"})])]),e("div",Ae,[e("div",Oe,[e("div",Qe,[e("button",Ue,[a(s(t.Icon),{icon:"mdi:play",class:"size-6 text-base-100"})]),e("span",Fe,[n[5]||(n[5]=f(" 播放全部 ")),e("span",He," ("+c((S=o.value)==null?void 0:S.trackCount)+") ",1)])]),e("div",Ge,[a(s(t.Icon),{icon:"hugeicons:download-01",class:"size-6"}),a(s(t.Icon),{icon:"lucide:list-check",class:"size-6"})])]),(d(!0),p(q,null,E((V=o.value)==null?void 0:V.tracks,(u,B)=>(d(),g(se,{key:B,index:B,name:u.name,author:u.ar[0].name,"al-name":u.al.name,"is-s-q":u.sq!==void 0,"is-have-video":u.videoInfo.video!==void 0},null,8,["index","name","author","al-name","is-s-q","is-have-video"]))),128))])])])],4)}}});export{Ke as default};
